<?php
// --------------------------------------------------------------------------
use Carbon\Carbon;
use Faker\Generator as Faker;
// --------------------------------------------------------------------------
use App\Models\Property;
// --------------------------------------------------------------------------

// --------------------------------------------------------------------------
// Property factory
// --------------------------------------------------------------------------
$factory->define( Property::class, function( Faker $faker ){
    $data = new \stdClass;
    // ----------------------------------------------------------------------

    // ----------------------------------------------------------------------
    // Add Japanese faker
    // ----------------------------------------------------------------------
    $faker->addProvider( new \Faker\Provider\Internet( $faker ));
    $faker->addProvider( new \Faker\Provider\Japanese( $faker ));
    // ----------------------------------------------------------------------
    
    // ----------------------------------------------------------------------
    $data->companies_id = 1;
    $data->property_statuses_id = 1;
    // ----------------------------------------------------------------------
    $data->location = $faker->address;
    // ----------------------------------------------------------------------
    $condition = $faker->boolean;
    $data->building_conditions = $condition;
    $data->building_conditions_desc = $condition ? $faker->realText : null;
    // ----------------------------------------------------------------------
    $data->minimum_price = $faker->numberBetween( 100, 500 );
    $data->maximum_price = $faker->numberBetween( 500, 1000 );
    // ----------------------------------------------------------------------
    $data->minimum_land_area = $faker->randomFloat( 6, 0, 5 );
    $data->maximum_land_area = $faker->randomFloat( 6, 5, 10 );
    // ----------------------------------------------------------------------
    $data->contact_us = $faker->idiom;
    // ----------------------------------------------------------------------
    //$data->publication_destination = $faker->idiom;
    //$data->publication_destination_link = $faker->url;
    // ----------------------------------------------------------------------
    $data->publish_date = Carbon::now();
    // ----------------------------------------------------------------------
    $data->created_at = Carbon::now();
    $data->updated_at = Carbon::now();
    // ----------------------------------------------------------------------

    // ----------------------------------------------------------------------
    return (array) $data;
    // ----------------------------------------------------------------------
});
// --------------------------------------------------------------------------


// --------------------------------------------------------------------------
// Property initial state
// --------------------------------------------------------------------------
$factory->state( Property::class, 'init', function(){
    $data = new \stdClass;
    // ----------------------------------------------------------------------
    
    // ----------------------------------------------------------------------
    $data->companies_id = null;
    $data->property_statuses_id = null;
    // ----------------------------------------------------------------------
    $data->location = null;
    // ----------------------------------------------------------------------
    $data->building_conditions = null;
    $data->building_conditions_desc = null;
    // ----------------------------------------------------------------------
    $data->minimum_price = null;
    $data->maximum_price = null;
    // ----------------------------------------------------------------------
    $data->minimum_land_area = null;
    $data->maximum_land_area = null;
    // ----------------------------------------------------------------------
    $data->contact_us = null;
    // ----------------------------------------------------------------------
    //$data->publication_destination = null;
    //$data->publication_destination_link = null;
    // ----------------------------------------------------------------------
    $data->publish_date = null;
    // ----------------------------------------------------------------------
    $data->created_at = null;
    $data->updated_at = null;
    // ----------------------------------------------------------------------

    // ----------------------------------------------------------------------
    return (array) $data;
    // ----------------------------------------------------------------------
});
// --------------------------------------------------------------------------
